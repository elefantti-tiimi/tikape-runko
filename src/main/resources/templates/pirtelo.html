<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

    <head>
        <title th:text="${pirtelo.getNimi()}">Otsikko</title>
        <meta charset="utf-8" />
        <style>body {margin:0;}

            .topnav {
                overflow: hidden;
                background-color: #333;
            }

            .topnav a {
                float: left;
                display: block;
                color: #f2f2f2;
                text-align: center;
                padding: 14px 16px;
                text-decoration: none;
                font-size: 17px;
            }

            .topnav a:hover {
                background-color: #ddd;
                color: black;
            }

            .topnav a.active {
                background-color: #4CAF50;
                color: white;
            }
        </style>
    </head>

    <body>
        <div class="topnav">
            <a href="/">Etusivu</a>
            <a class="active" href="/pirtelot">Pirtel&ouml;t</a>
            <a href="/raakaaineet">Raaka-aineet</a>
        </div>

        <h1 th:text="${pirtelo.nimi}">Pirtel&ouml;n nimi</h1>

        <p>Olet saapunut pirtel&ouml;n <span th:text="${pirtelo.nimi}">pirtelo
            </span> reseptisivulle.<br/><br/>Ainekset:</p>

        <ol>
            <li th:each="pa: ${pirteloaineet}">
                <span th:text="${pa.aines.nimi} +' '+${pa.maara}+' '+${pa.tyyppi}">Pirtelon aines</span>
                <form method="POST" th:action="'/pirtelot/' + ${pirtelo.id} +'/' + ${pa.aines.id}">                  
                    <input type="submit" value="poista aines"/>
                </form>
            </li>
        </ol>
        
        <br/>
        <p><span th:text="${pirtelo.ohje}">Pirtelon ohje</span></p>

        <br/><br/>

        <form method="POST" th:action="'/pirtelot/' + ${pirtelo.id} + '/aines'">
            <select name="ainesid" th:field="*{aines.id}">
                <option th:each="aines : ${ainekset}" 
                        th:value="${aines.id}" 
                        th:text="${aines.nimi}">lisää aines</option>
            </select>
            <input type="number" step="any" value="lukumäärä" name="maara" min="0"/>
            <input type="text" value="yksikkö" name="tyyppi"/>
            <input type="submit" value="lis&auml;&auml; pirtel&ouml;&ouml;n"/>
        </form>
        
        <br/><br/>
        <div th:with="ehto=${pirtelo.ohje != null}">
        <textarea rows="10" cols="80" name="ohje" form="ohjeform" th:if="${ehto}" th:text="${pirtelo.ohje} +'...'">Lisää tähän ohje...</textarea>
        <textarea rows="10" cols="80" name="ohje" form="ohjeform" th:unless="${ehto}">Lisää tähän ohje...</textarea>
        <form method="POST" id="ohjeform" th:action="'/pirtelot/' + ${pirtelo.id} + '/ohje'" >
            <input type="submit" value="Lisää ohje"/>
        </form>
        </div>
        <br/><br/><br/>

        <form method="POST" th:action="'/pirtelot/' + ${pirtelo.id} +'/poista'">
            <input type="submit" value="Poista pirtel&ouml;"/>
        </form>
    </body>
</html>
